# Start with:
#
# # follow instructions at:
# https://docs.github.com/en/free-pro-team@latest/github/authenticating-to-github/connecting-to-github-with-ssh
# ssh-keygen -t rsa -b 4096 -C "candido.ale@gmail.com"
# eval "$(ssh-agent -s)"
# ssh-add ~/.ssh/id_rsa
# sudo apt-get install xclip
# xclip -selection clipboard < ~/.ssh/id_rsa.pub
# ssh -T git@github.com

# if not restarted after cloning AleCandido/dotfiles
source ~/.bashrc

# yadm clone git@github.com:AleCandido/dotfiles.git
# yadm bootstrap
sudo apt install -y curl
sudo apt install -y build-essential cmake autoconf libtool
sudo apt install -y subversion

# terminal installation
sudo apt install -y kitty

# sh
touch ~/.sh/secrets

# zsh
sudo apt install -y zsh
chsh --shell /bin/zsh $USER
sudo apt install -y fonts-font-awesome
echo "\e[35mInstall fonts:"
echo "\e[39mhttps://drive.google.com/drive/u/1/folders/1ZCPEf7B7JsFb2CqANJV6xAY8o9xYjJP5"

# fortran installation
sudo apt install -y gfortran

# python pip installation
sudo apt install -y python3-distutils python3-venv
# ensurepip is disabled in Debian/Ubuntu for the system python.
#python3 -m ensurepip
sudo apt-get install -y python3-pip
pip install -U pip
sudo apt remove -y python3-pip
export PATH="$HOME/.local/bin:$PATH"

# node installation
curl -fsSL https://deb.nodesource.com/setup_14.x | sudo -E bash -
sudo apt install -y nodejs
# yarn installation
# curl -sL https://dl.yarnpkg.com/debian/pubkey.gpg | gpg --dearmor | sudo tee /usr/share/keyrings/yarnkey.gpg >/dev/null
# echo "deb [signed-by=/usr/share/keyrings/yarnkey.gpg] https://dl.yarnpkg.com/debian stable main" | sudo tee /etc/apt/sources.list.d/yarn.list
# sudo apt-get install -y yarn
# pnpm installation
mkdir -p $HOME/.local/share/pnpm
curl -f https://get.pnpm.io/v6.16.js | node - add --global pnpm
sudo apt install -y npm

# deno installation
curl -fsSL https://deno.land/x/install/install.sh | sh
# rust
curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh
export PATH="$HOME/.cargo/bin:$PATH"

# go
wget https://golang.org/dl/go1.17.2.linux-amd64.tar.gz
tar -C $HOME/.local -xzf go1.*.linux-amd64.tar.gz
mv $HOME/.local/go $HOME/.go
rm -f go1.*.linux-amd64.tar.gz
export PATH="$HOME/.go/bin:$PATH"

# julia
wget https://julialang-s3.julialang.org/bin/linux/x64/1.6/julia-1.6.4-linux-x86_64.tar.gz
tar -C $HOME/.local -xzf julia-1.*-linux-x86_64.tar.gz
mv $HOME/.local/julia-1.* $HOME/.julia
rm -f julia-1.*-linux-x86_64.tar.gz
export PATH="$HOME/.julia/bin:$PATH"

# lua
sudo apt install -y lua5.3

# java
curl -s "https://get.sdkman.io?rcupdate=false" | bash

# language headers
sudo apt install -y python3-dev
sudo apt install -y ruby-dev

# vim installation
sudo apt install -y vim neovim
curl -fLo ~/.vim/autoload/plug.vim --create-dirs \
    https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim
vim +PlugInstall
#python3 $HOME/.vim/plugged/YouCompleteMe/install.py --all
# vim externals
echo "\e[35mInstall universal-ctags:\e[39m https://github.com/universal-ctags/ctags"


# tmux installation
sudo apt install -y tmux
git clone https://github.com/tmux-plugins/tpm ~/.tmux/plugins/tpm
sudo apt install -y urlview
$HOME/.tmux/plugins/tpm/bin/install_plugins
echo "\e[35mInstall tmux plugins:\e[39m enter tmux > <C-b>I"

# utils
sudo apt install -y hub
sudo apt install -y fasd
sudo apt install -y ripgrep
sudo apt install -y fd-find
sudo apt install -y htop
sudo apt install -y ncdu
sudo apt install -y tldr && tldr -u
sudo apt install -y jq
sudo apt install -y pdfgrep
sudo apt install -y network-manager-vpnc-gnome
sudo apt install -y rename
sudo apt install -y bat
#
sudo apt install -y thefuck figlet lolcat cowsay neofetch
git clone --depth 1 git@github.com:eth-p/bat-extras.git $HOME/.bin/bat-extras
# sudo apt install -y rbenv
# --- through python
# ecosystem
pip install pipx
pipx install virtualenv
pipx install poetry
# - applications
pipx install ipython
pipx install glances
pipx install bpytop
pipx install speedtest-cli
pipx install invoke
pipx install fortran-language-server
# --- through rust
cargo install --force cargo-make
cargo install --locked cargo-deny
cargo install cargo-watch cargo-generate cargo-edit cargo-update cargo-hack
cargo install exa git-delta starship topgrade
cargo install --locked bat
cargo install --locked trunk
rustup target add wasm32-unknown-unknown
# --- through go
go install mvdan.cc/sh/v3/cmd/shfmt@latest
go install github.com/cheat/cheat/cmd/cheat@latest
# --- through julia
julia -e 'using Pkg; Pkg.add("PackageCompiler")'
# --- through js
pnpm add -g gitignore fixme
pnpm add -g npms npms-cli
pnpm add -g prettier prettier-plugin-toml
pnpm add -g typescript
pnpm add -g dockerfile-language-server-nodejs \
                graphql \
                graphql-language-service-cli \
                sql-language-server
pnpm add -g serve
# pnpm add -g elm @elm-tooling/elm-language-server elm-format
pnpm add -g @bitwarden/cli
# --- through deno
deno run -A https://deno.land/x/aleph/install.ts
deno install -A --unstable -n trex --no-check https://deno.land/x/trex/cli.ts
# --- through ruby
sudo gem install bundler
# --- with git
git clone https://github.com/eth-p/bat-extras.git --depth 1 && cd bat-extras && ./build.sh --install --prefix=$HOME/.local
rm -rf bat-extras; cd .. && rm -rf bat-extras

# setup cheatsheets manager
wget -O ~/.local/bin/cheatsheets https://raw.githubusercontent.com/cheat/cheat/master/scripts/git/cheatsheets
chmod +x ~/.local/bin/cheatsheets

# himalaya email client
# curl -sSL https://raw.githubusercontent.com/soywod/himalaya/master/install.sh | PREFIX=~/.local sh
# sudo apt install -y isync
sudo apt install -y neomutt
sudo apt install -y notmuch
pipx install offlineimap
mkdir ~/Mail
touch ~/Mail/aliases
pipx install mutt-ics

# gnome extensions
sudo apt install -y gnome-tweaks
sudo apt install -y gnome-tweak-tool

# github-cli
sudo apt-key adv --keyserver keyserver.ubuntu.com --recv-key C99B11DEB97541F0
sudo apt-add-repository https://cli.github.com/packages
sudo apt update && sudo apt install -y gh
# xournalpp
sudo add-apt-repository ppa:apandada1/xournalpp-stable
sudo apt update && sudo apt install -y xournalpp
# telegram
sudo add-apt-repository ppa:atareao/telegram
sudo apt update && sudo apt install -y telegram
# youtube CLI
pipx install youtube-dl
sudo apt install -y mpv
sudo apt install -y libxext-dev
pipx install ueberzug
curl -sL "https://raw.githubusercontent.com/pystardust/ytfzf/master/ytfzf" | tee $HOME/.bin/ytfzf >/dev/null && chmod 755 $HOME/.bin/ytfzf

# ssh server
sudo apt install -y openssh-server

# clean up
sudo apt autoremove -y
# unpack encrypted files
yadm decrypt

# Interactive
echo "Change default terminal emulator: https://itsfoss.com/change-default-terminal-ubuntu/"
